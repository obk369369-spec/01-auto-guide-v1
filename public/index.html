<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>01ë²ˆ ë„êµ¬ Â· Auto Guide v1</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #0f172a;
      color: #e5e7eb;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 16px;
      display: flex;
      justify-content: center;
    }
    .app {
      width: 100%;
      max-width: 1100px;
      background: #020617;
      border-radius: 16px;
      padding: 16px 20px 24px;
      border: 1px solid #1e293b;
      box-shadow: 0 20px 40px rgba(0,0,0,0.6);
    }
    h1 {
      font-size: 20px;
      margin: 0 0 4px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    h1 span.badge {
      font-size: 12px;
      padding: 2px 8px;
      border-radius: 999px;
      background: #22c55e1a;
      color: #4ade80;
      border: 1px solid #22c55e;
    }
    .subtitle {
      font-size: 13px;
      color: #9ca3af;
      margin-bottom: 16px;
    }
    .grid {
      display: grid;
      grid-template-columns: minmax(0, 2.1fr) minmax(0, 2fr);
      gap: 16px;
    }
    .card {
      background: radial-gradient(circle at top left, #0f172a, #020617);
      border-radius: 14px;
      border: 1px solid #1e293b;
      padding: 14px 14px 16px;
    }
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .card-title {
      font-size: 14px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .pill {
      font-size: 11px;
      padding: 1px 6px;
      border-radius: 999px;
      border: 1px solid #4b5563;
      color: #9ca3af;
    }
    label {
      font-size: 12px;
      color: #9ca3af;
      display: block;
      margin-top: 8px;
      margin-bottom: 4px;
    }
    input[type="text"],
    input[type="number"],
    textarea,
    select {
      width: 100%;
      font-size: 13px;
      padding: 7px 9px;
      border-radius: 8px;
      border: 1px solid #1f2937;
      background: #020617;
      color: #e5e7eb;
      outline: none;
    }
    textarea {
      resize: vertical;
      min-height: 56px;
      max-height: 160px;
    }
    input:focus,
    textarea:focus,
    select:focus {
      border-color: #38bdf8;
      box-shadow: 0 0 0 1px #38bdf833;
    }
    .row {
      display: flex;
      gap: 8px;
    }
    .row > div {
      flex: 1;
    }
    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-top: 10px;
    }
    button {
      border-radius: 999px;
      border: 1px solid #1f2937;
      background: #020617;
      color: #e5e7eb;
      font-size: 12px;
      padding: 6px 10px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    button.primary {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      border-color: transparent;
      color: #020617;
      font-weight: 600;
    }
    button.outline {
      border-color: #4b5563;
      color: #e5e7eb;
    }
    button.small {
      font-size: 11px;
      padding: 4px 8px;
    }
    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .output-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 6px;
    }
    .tag-row {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      font-size: 11px;
      color: #9ca3af;
    }
    .tag {
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px dashed #374151;
    }
    .output-box {
      background: #020617;
      border-radius: 10px;
      border: 1px solid #1f2937;
      padding: 10px;
      font-size: 13px;
      min-height: 180px;
      max-height: 360px;
      overflow-y: auto;
      white-space: pre-wrap;
    }
    .status-bar {
      margin-top: 8px;
      font-size: 11px;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }
    .status-pill {
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid #4b5563;
    }
    .footer {
      margin-top: 12px;
      font-size: 11px;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      gap: 8px;
      flex-wrap: wrap;
    }

    @media (max-width: 840px) {
      .grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <h1>
      01ë²ˆ ë„êµ¬ Â· Auto Guide v1
      <span class="badge">Local-only Â· Safe DOM</span>
    </h1>
    <div class="subtitle">
      ê³ ê°Â·ë³´ê³ ì„œ ì •ë³´ë¥¼ ê°„ë‹¨íˆ ì…ë ¥í•˜ë©´, ì´ë©”ì¼/ë¬¸ì„œì— ë°”ë¡œ ë¶™ì—¬ ì“¸ ìˆ˜ ìˆëŠ”
      â€œì•ˆë‚´ í…ìŠ¤íŠ¸ ì´ˆì•ˆâ€ì„ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ ì£¼ëŠ” ì•ˆë‚´ì„œ ë„êµ¬ì…ë‹ˆë‹¤.
      (ì €ì¥: ë¸Œë¼ìš°ì € localStorage)
    </div>

    <div class="grid">
      <!-- ì…ë ¥ ì˜ì—­ -->
      <div class="card">
        <div class="card-header">
          <div class="card-title">
            1. ê³ ê° & ë³´ê³ ì„œ ì •ë³´ ì…ë ¥
          </div>
          <div class="pill">ì…ë ¥ â†’ ì˜¤ë¥¸ìª½ ì´ˆì•ˆ ìƒì„±</div>
        </div>

        <label for="customerName">ê³ ê° ì´ë¦„ / ê¸°ê´€ëª… *</label>
        <input id="customerName" type="text" placeholder="ì˜ˆ: KIST ì„¸ì¢… ë¶„ì› ê¹€ë°•ì‚¬ë‹˜" />

        <label for="customerType">ê³ ê° ìœ í˜• *</label>
        <select id="customerType">
          <option value="">ì„ íƒ</option>
          <option value="natlab">êµ­ì±…ì—°êµ¬ì†Œ</option>
          <option value="rnd">ê¸°ì—… R&D / ê¸°ìˆ ì—°êµ¬ì†Œ</option>
          <option value="univ">ëŒ€í•™ ì—°êµ¬ì‹¤</option>
          <option value="company">ì¼ë°˜ ê¸°ì—… / êµ¬ë§¤íŒ€</option>
          <option value="other">ê¸°íƒ€</option>
        </select>

        <div class="row">
          <div>
            <label for="reportTitle">ë³´ê³ ì„œ ì œëª© / í‚¤ì›Œë“œ *</label>
            <input id="reportTitle" type="text" placeholder="ì˜ˆ: 2026ë…„ ê¸€ë¡œë²Œ ê¸€ë¼ìŠ¤ ì„œë¸ŒìŠ¤íŠ¸ë ˆì´íŠ¸ ì‹œì¥" />
          </div>
          <div>
            <label for="publisher">ë°œí–‰ì‚¬ (ì„ íƒ)</label>
            <input id="publisher" type="text" placeholder="ì˜ˆ: Fuji Keizai, MarketsandMarkets..." />
          </div>
        </div>

        <label for="focus">ê´€ì‹¬ ë¶„ì•¼ / í‚¤ì›Œë“œ (ì‰¼í‘œë¡œ êµ¬ë¶„)</label>
        <input id="focus" type="text" placeholder="ì˜ˆ: ê¸€ë¼ìŠ¤ ì„œë¸ŒìŠ¤íŠ¸ë ˆì´íŠ¸, ë°˜ë„ì²´ íŒ¨í‚¤ì§•" />

        <div class="row">
          <div>
            <label for="channel">ì•ˆë‚´ ì±„ë„ *</label>
            <select id="channel">
              <option value="">ì„ íƒ</option>
              <option value="email">ì´ë©”ì¼</option>
              <option value="word">ì›Œë“œ ì•ˆë‚´ë¬¸</option>
              <option value="phone">ì „í™” ì•ˆë‚´ ìŠ¤í¬ë¦½íŠ¸</option>
            </select>
          </div>
          <div>
            <label for="tone">í†¤ & ìŠ¤íƒ€ì¼</label>
            <select id="tone">
              <option value="basic">ê¸°ë³¸Â·ì°¨ë¶„</option>
              <option value="formal">ê³µì‹ì Â·ê²©ì‹</option>
              <option value="simple">ì§§ê³  ê°„ë‹¨</option>
            </select>
          </div>
        </div>

        <label for="note">ë‚´ë¶€ ë©”ëª¨ (ì¶œë ¥ì—ëŠ” ì•ˆ ë‚˜ì˜´)</label>
        <textarea id="note" placeholder="ì˜ˆ: ì˜ˆì‚° 1,200ë§Œ ì›, ì…ì°° ì¼ì • 3ì›” ì˜ˆì • ë“±"></textarea>

        <div class="btn-row">
          <button type="button" class="primary" id="btn-generate">
            â–¶ ì•ˆë‚´ í…ìŠ¤íŠ¸ ìƒì„±
          </button>
          <button type="button" class="outline small" id="btn-example">
            ì˜ˆì‹œ ì±„ìš°ê¸°
          </button>
          <button type="button" class="outline small" id="btn-clear">
            ì…ë ¥ ì´ˆê¸°í™”
          </button>
          <button type="button" class="outline small" id="btn-save">
            í˜„ì¬ ì…ë ¥ ì €ì¥
          </button>
          <button type="button" class="outline small" id="btn-load">
            ë§ˆì§€ë§‰ ì…ë ¥ ë¶ˆëŸ¬ì˜¤ê¸°
          </button>
        </div>
      </div>

      <!-- ì¶œë ¥ ì˜ì—­ -->
      <div class="card">
        <div class="output-header">
          <div class="card-title">2. ì•ˆë‚´ í…ìŠ¤íŠ¸ ì´ˆì•ˆ</div>
          <div class="btn-row">
            <button type="button" class="outline small" id="btn-copy">
              ğŸ“‹ ì „ì²´ ë³µì‚¬
            </button>
          </div>
        </div>

        <div class="tag-row" id="tagRow">
          <span class="tag">ì±„ë„: -</span>
          <span class="tag">í†¤: -</span>
          <span class="tag">ê³ ê° ìœ í˜•: -</span>
        </div>

        <div id="output" class="output-box">
ì•„ì§ ìƒì„±ëœ ì•ˆë‚´ ë¬¸êµ¬ê°€ ì—†ìŠµë‹ˆë‹¤.
ì™¼ìª½ í•„ìˆ˜ í•­ëª©ì„ ì±„ìš´ ë’¤ [ì•ˆë‚´ í…ìŠ¤íŠ¸ ìƒì„±] ë²„íŠ¼ì„ ëˆŒëŸ¬ ë³´ì„¸ìš”.
        </div>

        <div class="status-bar">
          <div class="status-pill" id="statusSaved">ì €ì¥ ìƒíƒœ: -</div>
          <div>Local-only Â· Safe DOM Â· index.html í•˜ë‚˜ë¡œë§Œ ë™ì‘</div>
        </div>

        <div class="footer">
          <div>01ë²ˆ Auto Guide v1 Â· ë¸Œë¼ìš°ì €ë¥¼ ìƒˆë¡œ ì—´ì–´ë„ ë§ˆì§€ë§‰ ì…ë ¥ 1ì„¸íŠ¸ëŠ” ìë™ ë³µì›ë©ë‹ˆë‹¤.</div>
          <div>localStorage key: wic_auto_guide_v1_state</div>
        </div>
      </div>
    </div>

    <!-- ì•„ì£¼ ê°„ë‹¨í•œ JS: ì„œë²„Â·íƒ€ì´ë¨¸ ì—†ìŒ -->
    <script>
      const STORAGE_KEY = "wic_auto_guide_v1_state";

      const $ = (id) => document.getElementById(id);

      const fields = [
        "customerName",
        "customerType",
        "reportTitle",
        "publisher",
        "focus",
        "channel",
        "tone",
        "note"
      ];

      function getState() {
        const s = {};
        for (const f of fields) {
          s[f] = $(f).value || "";
        }
        return s;
      }

      function setState(s) {
        for (const f of fields) {
          if (s && Object.prototype.hasOwnProperty.call(s, f)) {
            $(f).value = s[f] ?? "";
          }
        }
      }

      function saveState(manual = false) {
        const s = getState();
        try {
          localStorage.setItem(STORAGE_KEY, JSON.stringify(s));
          $("statusSaved").textContent =
            "ì €ì¥ ìƒíƒœ: ë§ˆì§€ë§‰ ì…ë ¥ ìë™ ì €ì¥ ì™„ë£Œ" + (manual ? " (ìˆ˜ë™ ì €ì¥)" : "");
        } catch (e) {
          $("statusSaved").textContent = "ì €ì¥ ìƒíƒœ: ì €ì¥ ì‹¤íŒ¨ (localStorage ìš©ëŸ‰ í™•ì¸ í•„ìš”)";
        }
      }

      function loadState(showMessage = true) {
        try {
          const raw = localStorage.getItem(STORAGE_KEY);
          if (!raw) {
            if (showMessage) {
              $("statusSaved").textContent = "ì €ì¥ ìƒíƒœ: ì €ì¥ëœ ì…ë ¥ ì—†ìŒ";
            }
            return;
          }
          const s = JSON.parse(raw);
          setState(s);
          if (showMessage) {
            $("statusSaved").textContent = "ì €ì¥ ìƒíƒœ: ë§ˆì§€ë§‰ ì…ë ¥ ë¶ˆëŸ¬ì˜¤ê¸° ì™„ë£Œ";
          }
        } catch (e) {
          $("statusSaved").textContent = "ì €ì¥ ìƒíƒœ: ë¶ˆëŸ¬ì˜¤ê¸° ì˜¤ë¥˜";
        }
      }

      function fillExample() {
        $("customerName").value = "KIST ì„¸ì¢… ë¶„ì› ê¹€ë°•ì‚¬ë‹˜";
        $("customerType").value = "natlab";
        $("reportTitle").value =
          "2026ë…„ ê¸€ë¡œë²Œ ë°˜ë„ì²´ìš© ê¸€ë¼ìŠ¤ ì„œë¸ŒìŠ¤íŠ¸ë ˆì´íŠ¸ ì‹œì¥ ë³´ê³ ì„œ";
        $("publisher").value = "Fuji Keizai";
        $("focus").value = "ê¸€ë¼ìŠ¤ ì„œë¸ŒìŠ¤íŠ¸ë ˆì´íŠ¸, ë°˜ë„ì²´ íŒ¨í‚¤ì§•, ì²¨ë‹¨ íŒ¨í‚¤ì§€";
        $("channel").value = "email";
        $("tone").value = "basic";
        $("note").value =
          "ìµœê·¼ ë¬¸ì˜: ê¸€ë¼ìŠ¤ ì„œë¸ŒìŠ¤íŠ¸ë ˆì´íŠ¸ ê³µì •, ì—°êµ¬ë¹„ ì•½ 1,200ë§Œ ì› ê·œëª¨ ì¶”ì •.";
        saveState();
      }

      function clearInputs() {
        for (const f of fields) {
          $(f).value = "";
        }
        saveState();
      }

      function humanCustomerType(v) {
        switch (v) {
          case "natlab":
            return "êµ­ì±…ì—°êµ¬ì†Œ";
          case "rnd":
            return "ê¸°ì—… R&D / ê¸°ìˆ ì—°êµ¬ì†Œ";
          case "univ":
            return "ëŒ€í•™ ì—°êµ¬ì‹¤";
          case "company":
            return "ì¼ë°˜ ê¸°ì—… / êµ¬ë§¤íŒ€";
          case "other":
            return "ê¸°íƒ€";
          default:
            return "-";
        }
      }

      function humanChannel(v) {
        switch (v) {
          case "email":
            return "ì´ë©”ì¼";
          case "word":
            return "ì›Œë“œ ì•ˆë‚´ë¬¸";
          case "phone":
            return "ì „í™” ì•ˆë‚´ ìŠ¤í¬ë¦½íŠ¸";
          default:
            return "-";
        }
      }

      function humanTone(v) {
        switch (v) {
          case "basic":
            return "ê¸°ë³¸Â·ì°¨ë¶„";
          case "formal":
            return "ê³µì‹ì Â·ê²©ì‹";
          case "simple":
            return "ì§§ê³  ê°„ë‹¨";
          default:
            return "-";
        }
      }

      function generateText() {
        const s = getState();

        if (!s.customerName.trim() || !s.reportTitle.trim() || !s.customerType || !s.channel) {
          $("output").textContent =
            "[í•„ìˆ˜ í•­ëª© ëˆ„ë½]\n\n"ê³ ê° ì´ë¦„/ê¸°ê´€ëª…, ê³ ê° ìœ í˜•, ë³´ê³ ì„œ ì œëª©, ì•ˆë‚´ ì±„ë„"ì€ ê¼­ ì±„ì›Œ ì£¼ì„¸ìš”.";
          return;
        }

        const channelLabel = humanChannel(s.channel);
        const toneLabel = humanTone(s.tone);
        const typeLabel = humanCustomerType(s.customerType);

        const publisherPart = s.publisher
          ? ` (${s.publisher} ë°œí–‰)`
          : "";

        const focusPart = s.focus
          ? `\n\nì£¼ìš” ê´€ì‹¬ í‚¤ì›Œë“œë¡œëŠ” ${s.focus} ë“±ì„ ì¤‘ì‹¬ìœ¼ë¡œ ì •ë¦¬í•´ ë‘ì—ˆìŠµë‹ˆë‹¤.`
          : "";

        const notePart = s.note
          ? `\n\n[ë‚´ë¶€ ë©”ëª¨]\n${s.note}`
          : "";

        let intro;
        if (s.channel === "email") {
          intro = `${s.customerName}ê»˜,\n\ní•­ìƒ ì—°êµ¬ì™€ ì—…ë¬´ì— ìˆ˜ê³ ê°€ ë§ìœ¼ì‹­ë‹ˆë‹¤.`;
        } else if (s.channel === "word") {
          intro = `${s.customerName} ëŒ€ìƒ ë³´ê³ ì„œ ì•ˆë‚´ë¬¸ ì´ˆì•ˆì…ë‹ˆë‹¤.\n`;
        } else {
          intro = `${s.customerName} ì•ˆë‚´ìš© ì „í™” ìŠ¤í¬ë¦½íŠ¸ ì´ˆì•ˆì…ë‹ˆë‹¤.\n`;
        }

        let main =
          `ì´ë²ˆì— ì•ˆë‚´ë“œë¦¬ëŠ” ìë£ŒëŠ”\nâ€œ${s.reportTitle}â€${publisherPart} ì…ë‹ˆë‹¤.\n\n` +
          `ì£¼ìš” ê³ ê°êµ°ì€ ${typeLabel}ì— í•´ë‹¹í•˜ë©°, ${s.customerName}ê»˜ì„œ ì§„í–‰ ì¤‘ì´ì‹  ì—°êµ¬Â·ì‚¬ì—… ë°©í–¥ê³¼ë„ ê´€ë ¨ì„±ì´ ë†’ì€ ì£¼ì œì…ë‹ˆë‹¤.${focusPart}\n`;

        let closing;
        if (s.channel === "email") {
          closing =
            `\nê´€ì‹¬ì´ ìˆìœ¼ì‹œë‹¤ë©´ ëª©ì°¨ì™€ ê°œëµì ì¸ ë‚´ìš©, ê²¬ì ì„œë¥¼ í•¨ê»˜ ë³´ë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\n` +
            `ê²€í†  í›„ í¸í•˜ì‹  ì‹œê°„ì— ì—°ë½ ì£¼ì‹œë©´ ìì„¸íˆ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤.\n\nê°ì‚¬í•©ë‹ˆë‹¤.`;
        } else if (s.channel === "word") {
          closing =
            `\nìƒê¸° ë³´ê³ ì„œì— ëŒ€í•œ ë³´ë‹¤ ìì„¸í•œ ì•ˆë‚´(ëª©ì°¨, ìƒ˜í”Œ í˜ì´ì§€, ê²¬ì  ë“±)ê°€ í•„ìš”í•˜ì‹œë©´\n` +
            `ì—°ë½ì²˜ ë˜ëŠ” ì´ë©”ì¼ì„ í†µí•´ ì–¸ì œë“  ë¬¸ì˜í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.\n`;
        } else {
          closing =
            `\nì „í™” ì•ˆë‚´ ì‹œ, ë¨¼ì € í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ì—°êµ¬ ì£¼ì œë¥¼ ì§§ê²Œ ì—¬ì­™ê³ ,\n` +
            `í•´ë‹¹ ë³´ê³ ì„œê°€ ì–´ë–¤ ë¶€ë¶„ì—ì„œ ë„ì›€ì´ ë  ìˆ˜ ìˆëŠ”ì§€ 1~2ê°€ì§€ í¬ì¸íŠ¸ë§Œ ê°„ë‹¨íˆ ì„¤ëª…í•©ë‹ˆë‹¤.\n`;
        }

        const full =
          `${intro}\n\n` +
          `${main}\n` +
          `${closing}` +
          `${notePart}`;

        $("output").textContent = full;

        // íƒœê·¸ ê°±ì‹ 
        const tagRow = $("tagRow");
        tagRow.innerHTML = "";
        const makeTag = (text) => {
          const span = document.createElement("span");
          span.className = "tag";
          span.textContent = text;
          return span;
        };
        tagRow.appendChild(makeTag(`ì±„ë„: ${channelLabel}`));
        tagRow.appendChild(makeTag(`í†¤: ${toneLabel || "-"}`));
        tagRow.appendChild(makeTag(`ê³ ê° ìœ í˜•: ${typeLabel}`));
      }

      function copyOutput() {
        const text = $("output").textContent || "";
        if (!text.trim()) return;
        navigator.clipboard
          .writeText(text)
          .then(() => {
            $("statusSaved").textContent = "ë³µì‚¬ ì™„ë£Œ: ì•ˆë‚´ í…ìŠ¤íŠ¸ê°€ í´ë¦½ë³´ë“œì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.";
          })
          .catch(() => {
            $("statusSaved").textContent = "ë³µì‚¬ ì‹¤íŒ¨: ë¸Œë¼ìš°ì € ê¶Œí•œì„ í™•ì¸í•´ ì£¼ì„¸ìš”.";
          });
      }

      // ì´ë²¤íŠ¸ ì—°ê²°
      $("btn-example").addEventListener("click", () => {
        fillExample();
      });
      $("btn-clear").addEventListener("click", () => {
        clearInputs();
        $("output").textContent =
          "ì…ë ¥ì„ ëª¨ë‘ ì§€ì› ìŠµë‹ˆë‹¤.\në‹¤ì‹œ ì •ë³´ë¥¼ ì±„ìš°ê³  [ì•ˆë‚´ í…ìŠ¤íŠ¸ ìƒì„±] ë²„íŠ¼ì„ ëˆŒëŸ¬ ì£¼ì„¸ìš”.";
      });
      $("btn-generate").addEventListener("click", () => {
        generateText();
        saveState();
      });
      $("btn-save").addEventListener("click", () => {
        saveState(true);
      });
      $("btn-load").addEventListener("click", () => {
        loadState(true);
      });
      $("btn-copy").addEventListener("click", () => {
        copyOutput();
      });

      // ì²˜ìŒ ë¡œë“œ ì‹œ ë§ˆì§€ë§‰ ìƒíƒœ ìë™ ë³µì›
      loadState(false);
    </script>
  </div>
</body>
</html>
